function cov_i4kde1i8(){var path="C:\\Users\\65804\\dvops\\Project-part2\\utils\\DeleteStudentsUtils.js";var hash="d1fc25c0ebb160841ec9c839730e85177df43293";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\65804\\dvops\\Project-part2\\utils\\DeleteStudentsUtils.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:33}},"1":{start:{line:4,column:4},end:{line:10,column:5}},"2":{start:{line:5,column:21},end:{line:5,column:56}},"3":{start:{line:6,column:8},end:{line:6,column:32}},"4":{start:{line:8,column:8},end:{line:8,column:50}},"5":{start:{line:9,column:8},end:{line:9,column:18}},"6":{start:{line:14,column:4},end:{line:19,column:5}},"7":{start:{line:15,column:8},end:{line:15,column:78}},"8":{start:{line:17,column:8},end:{line:17,column:50}},"9":{start:{line:18,column:8},end:{line:18,column:18}},"10":{start:{line:23,column:4},end:{line:48,column:5}},"11":{start:{line:24,column:19},end:{line:24,column:32}},"12":{start:{line:27,column:8},end:{line:27,column:67}},"13":{start:{line:29,column:28},end:{line:29,column:65}},"14":{start:{line:32,column:8},end:{line:34,column:9}},"15":{start:{line:33,column:12},end:{line:33,column:74}},"16":{start:{line:36,column:8},end:{line:36,column:65}},"17":{start:{line:38,column:8},end:{line:41,column:11}},"18":{start:{line:43,column:8},end:{line:43,column:68}},"19":{start:{line:44,column:8},end:{line:47,column:11}},"20":{start:{line:51,column:0},end:{line:51,column:34}}},fnMap:{"0":{name:"readJSON",decl:{start:{line:3,column:15},end:{line:3,column:23}},loc:{start:{line:3,column:34},end:{line:11,column:1}},line:3},"1":{name:"writeJSON",decl:{start:{line:13,column:15},end:{line:13,column:24}},loc:{start:{line:13,column:43},end:{line:20,column:1}},line:13},"2":{name:"deleteStudent",decl:{start:{line:22,column:15},end:{line:22,column:28}},loc:{start:{line:22,column:39},end:{line:49,column:1}},line:22}},branchMap:{"0":{loc:{start:{line:32,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:34,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d1fc25c0ebb160841ec9c839730e85177df43293"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_i4kde1i8=function(){return actualCoverage;};}return actualCoverage;}cov_i4kde1i8();const fs=(cov_i4kde1i8().s[0]++,require('fs').promises);async function readJSON(filename){cov_i4kde1i8().f[0]++;cov_i4kde1i8().s[1]++;try{const data=(cov_i4kde1i8().s[2]++,await fs.readFile(filename,'utf8'));cov_i4kde1i8().s[3]++;return JSON.parse(data);}catch(err){cov_i4kde1i8().s[4]++;console.error('Error reading file:',err);cov_i4kde1i8().s[5]++;throw err;}}async function writeJSON(object,filename){cov_i4kde1i8().f[1]++;cov_i4kde1i8().s[6]++;try{cov_i4kde1i8().s[7]++;await fs.writeFile(filename,JSON.stringify(object,null,2),'utf8');}catch(err){cov_i4kde1i8().s[8]++;console.error('Error writing file:',err);cov_i4kde1i8().s[9]++;throw err;}}async function deleteStudent(req,res){cov_i4kde1i8().f[2]++;cov_i4kde1i8().s[10]++;try{const id=(cov_i4kde1i8().s[11]++,req.params.id);// Logging for tracking
cov_i4kde1i8().s[12]++;console.log(`Attempting to delete student with ID: ${id}`);const allStudents=(cov_i4kde1i8().s[13]++,await readJSON('utils/students.json'));// Check if student was actually deleted
cov_i4kde1i8().s[14]++;if(filteredStudents.length===initialLength){cov_i4kde1i8().b[0][0]++;cov_i4kde1i8().s[15]++;return res.status(404).json({message:'Student not found'});}else{cov_i4kde1i8().b[0][1]++;}cov_i4kde1i8().s[16]++;await writeJSON(filteredStudents,'utils/students.json');cov_i4kde1i8().s[17]++;return res.status(200).json({message:'Student deleted successfully!',remainingStudents:filteredStudents.length});}catch(error){cov_i4kde1i8().s[18]++;console.error('Comprehensive delete student error:',error);cov_i4kde1i8().s[19]++;return res.status(500).json({message:'Server error during student deletion',error:error.message});}}cov_i4kde1i8().s[20]++;module.exports={deleteStudent};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaTRrZGUxaTgiLCJhY3R1YWxDb3ZlcmFnZSIsImZzIiwicyIsInJlcXVpcmUiLCJwcm9taXNlcyIsInJlYWRKU09OIiwiZmlsZW5hbWUiLCJmIiwiZGF0YSIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwid3JpdGVKU09OIiwib2JqZWN0Iiwid3JpdGVGaWxlIiwic3RyaW5naWZ5IiwiZGVsZXRlU3R1ZGVudCIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwibG9nIiwiYWxsU3R1ZGVudHMiLCJmaWx0ZXJlZFN0dWRlbnRzIiwibGVuZ3RoIiwiaW5pdGlhbExlbmd0aCIsImIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInJlbWFpbmluZ1N0dWRlbnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkRlbGV0ZVN0dWRlbnRzVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVhZEpTT04oZmlsZW5hbWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVuYW1lLCAndXRmOCcpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBmaWxlOicsIGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUpTT04ob2JqZWN0LCBmaWxlbmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZW5hbWUsIEpTT04uc3RyaW5naWZ5KG9iamVjdCwgbnVsbCwgMiksICd1dGY4Jyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3cml0aW5nIGZpbGU6JywgZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVN0dWRlbnQocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgICAgICAvLyBMb2dnaW5nIGZvciB0cmFja2luZ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIGRlbGV0ZSBzdHVkZW50IHdpdGggSUQ6ICR7aWR9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbFN0dWRlbnRzID0gYXdhaXQgcmVhZEpTT04oJ3V0aWxzL3N0dWRlbnRzLmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgc3R1ZGVudCB3YXMgYWN0dWFsbHkgZGVsZXRlZFxyXG4gICAgICAgIGlmIChmaWx0ZXJlZFN0dWRlbnRzLmxlbmd0aCA9PT0gaW5pdGlhbExlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnU3R1ZGVudCBub3QgZm91bmQnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgd3JpdGVKU09OKGZpbHRlcmVkU3R1ZGVudHMsICd1dGlscy9zdHVkZW50cy5qc29uJyk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnU3R1ZGVudCBkZWxldGVkIHN1Y2Nlc3NmdWxseSEnLCBcclxuICAgICAgICAgICAgcmVtYWluaW5nU3R1ZGVudHM6IGZpbHRlcmVkU3R1ZGVudHMubGVuZ3RoIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDb21wcmVoZW5zaXZlIGRlbGV0ZSBzdHVkZW50IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1NlcnZlciBlcnJvciBkdXJpbmcgc3R1ZGVudCBkZWxldGlvbicsIFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGRlbGV0ZVN0dWRlbnR9OyAiXSwibWFwcGluZ3MiOiJtaUZBZVk7QUFBQUEsWUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxZQUFBLEdBZlosS0FBTSxDQUFBRSxFQUFFLEVBQUFGLFlBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUNDLFFBQVEsRUFFakMsY0FBZSxDQUFBQyxRQUFRQSxDQUFDQyxRQUFRLENBQUUsQ0FBQVAsWUFBQSxHQUFBUSxDQUFBLE1BQUFSLFlBQUEsR0FBQUcsQ0FBQSxNQUM5QixHQUFJLENBQ0EsS0FBTSxDQUFBTSxJQUFJLEVBQUFULFlBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsRUFBRSxDQUFDUSxRQUFRLENBQUNILFFBQVEsQ0FBRSxNQUFNLENBQUMsRUFBQ1AsWUFBQSxHQUFBRyxDQUFBLE1BQ2pELE1BQU8sQ0FBQVEsSUFBSSxDQUFDQyxLQUFLLENBQUNILElBQUksQ0FBQyxDQUMzQixDQUFFLE1BQU9JLEdBQUcsQ0FBRSxDQUFBYixZQUFBLEdBQUFHLENBQUEsTUFDVlcsT0FBTyxDQUFDQyxLQUFLLENBQUMscUJBQXFCLENBQUVGLEdBQUcsQ0FBQyxDQUFDYixZQUFBLEdBQUFHLENBQUEsTUFDMUMsS0FBTSxDQUFBVSxHQUFHLENBQ2IsQ0FDSixDQUVBLGNBQWUsQ0FBQUcsU0FBU0EsQ0FBQ0MsTUFBTSxDQUFFVixRQUFRLENBQUUsQ0FBQVAsWUFBQSxHQUFBUSxD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