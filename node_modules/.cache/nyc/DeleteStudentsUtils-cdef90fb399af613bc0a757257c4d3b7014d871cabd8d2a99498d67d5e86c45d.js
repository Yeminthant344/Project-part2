function cov_i4kde1i8(){var path="C:\\Users\\65804\\dvops\\Project-part2\\utils\\DeleteStudentsUtils.js";var hash="dbd941f3d27e55e3e60374a0b11e037e8765a412";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\65804\\dvops\\Project-part2\\utils\\DeleteStudentsUtils.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:33}},"1":{start:{line:5,column:4},end:{line:30,column:5}},"2":{start:{line:6,column:19},end:{line:6,column:32}},"3":{start:{line:9,column:8},end:{line:9,column:67}},"4":{start:{line:11,column:28},end:{line:11,column:65}},"5":{start:{line:14,column:8},end:{line:16,column:9}},"6":{start:{line:15,column:12},end:{line:15,column:74}},"7":{start:{line:18,column:8},end:{line:18,column:65}},"8":{start:{line:20,column:8},end:{line:23,column:11}},"9":{start:{line:25,column:8},end:{line:25,column:68}},"10":{start:{line:26,column:8},end:{line:29,column:11}},"11":{start:{line:33,column:0},end:{line:33,column:34}}},fnMap:{"0":{name:"deleteStudent",decl:{start:{line:4,column:15},end:{line:4,column:28}},loc:{start:{line:4,column:39},end:{line:31,column:1}},line:4}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:14}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dbd941f3d27e55e3e60374a0b11e037e8765a412"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_i4kde1i8=function(){return actualCoverage;};}return actualCoverage;}cov_i4kde1i8();const fs=(cov_i4kde1i8().s[0]++,require('fs').promises);async function deleteStudent(req,res){cov_i4kde1i8().f[0]++;cov_i4kde1i8().s[1]++;try{const id=(cov_i4kde1i8().s[2]++,req.params.id);// Logging for tracking
cov_i4kde1i8().s[3]++;console.log(`Attempting to delete student with ID: ${id}`);const allStudents=(cov_i4kde1i8().s[4]++,await readJSON('utils/students.json'));// Check if student was actually deleted
cov_i4kde1i8().s[5]++;if(filteredStudents.length===initialLength){cov_i4kde1i8().b[0][0]++;cov_i4kde1i8().s[6]++;return res.status(404).json({message:'Student not found'});}else{cov_i4kde1i8().b[0][1]++;}cov_i4kde1i8().s[7]++;await writeJSON(filteredStudents,'utils/students.json');cov_i4kde1i8().s[8]++;return res.status(200).json({message:'Student deleted successfully!',remainingStudents:filteredStudents.length});}catch(error){cov_i4kde1i8().s[9]++;console.error('Comprehensive delete student error:',error);cov_i4kde1i8().s[10]++;return res.status(500).json({message:'Server error during student deletion',error:error.message});}}cov_i4kde1i8().s[11]++;module.exports={deleteStudent};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaTRrZGUxaTgiLCJhY3R1YWxDb3ZlcmFnZSIsImZzIiwicyIsInJlcXVpcmUiLCJwcm9taXNlcyIsImRlbGV0ZVN0dWRlbnQiLCJyZXEiLCJyZXMiLCJmIiwiaWQiLCJwYXJhbXMiLCJjb25zb2xlIiwibG9nIiwiYWxsU3R1ZGVudHMiLCJyZWFkSlNPTiIsImZpbHRlcmVkU3R1ZGVudHMiLCJsZW5ndGgiLCJpbml0aWFsTGVuZ3RoIiwiYiIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwid3JpdGVKU09OIiwicmVtYWluaW5nU3R1ZGVudHMiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJEZWxldGVTdHVkZW50c1V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZWxldGVTdHVkZW50KHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICAgICAgLy8gTG9nZ2luZyBmb3IgdHJhY2tpbmdcclxuICAgICAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdGluZyB0byBkZWxldGUgc3R1ZGVudCB3aXRoIElEOiAke2lkfWApO1xyXG5cclxuICAgICAgICBjb25zdCBhbGxTdHVkZW50cyA9IGF3YWl0IHJlYWRKU09OKCd1dGlscy9zdHVkZW50cy5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHN0dWRlbnQgd2FzIGFjdHVhbGx5IGRlbGV0ZWRcclxuICAgICAgICBpZiAoZmlsdGVyZWRTdHVkZW50cy5sZW5ndGggPT09IGluaXRpYWxMZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1N0dWRlbnQgbm90IGZvdW5kJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHdyaXRlSlNPTihmaWx0ZXJlZFN0dWRlbnRzLCAndXRpbHMvc3R1ZGVudHMuanNvbicpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1N0dWRlbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHkhJywgXHJcbiAgICAgICAgICAgIHJlbWFpbmluZ1N0dWRlbnRzOiBmaWx0ZXJlZFN0dWRlbnRzLmxlbmd0aCBcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQ29tcHJlaGVuc2l2ZSBkZWxldGUgc3R1ZGVudCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdTZXJ2ZXIgZXJyb3IgZHVyaW5nIHN0dWRlbnQgZGVsZXRpb24nLCBcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBkZWxldGVTdHVkZW50fTsgIl0sIm1hcHBpbmdzIjoid3NEQWVZO0FBQUFBLFlBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsWUFBQSxHQWZaLEtBQU0sQ0FBQUUsRUFBRSxFQUFBRixZQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDQyxRQUFRLEVBR2pDLGNBQWUsQ0FBQUMsYUFBYUEsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUUsQ0FBQVIsWUFBQSxHQUFBUyxDQUFBLE1BQUFULFlBQUEsR0FBQUcsQ0FBQSxNQUNuQyxHQUFJLENBQ0EsS0FBTSxDQUFBTyxFQUFFLEVBQUFWLFlBQUEsR0FBQUcsQ0FBQSxNQUFHSSxHQUFHLENBQUNJLE1BQU0sQ0FBQ0QsRUFBRSxFQUV4QjtBQUFBVixZQUFBLEdBQUFHLENBQUEsTUFDQVMsT0FBTyxDQUFDQyxHQUFHLENBQUMseUNBQXlDSCxFQUFFLEVBQUUsQ0FBQyxDQUUxRCxLQUFNLENBQUFJLFdBQVcsRUFBQWQsWUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBWSxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFFekQ7QUFBQWYsWUFBQSxHQUFBRyxDQUFBLE1BQ0EsR0FBSWEsZ0JBQWdCLENBQUNDLE1BQU0sR0FBS0MsYUFBYSxDQUFFLENBQUFsQixZQUFBLEdBQUFtQixDQUFBLFNBQUFuQixZQUFBLEdBQUFHLENBQUEsTUFDM0MsTUFBTyxDQUFBSyxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxtQkFBb0IsQ0FBQyxDQUFDLENBQ2pFLENBQUMsS0FBQXRCLFlBQUEsR0FBQW1CLENBQUEsVUFBQW5CLFlBQUEsR0FBQUcsQ0FBQSxNQUVELEtBQU0sQ0FBQW9CLFNBQVMsQ0FBQ1AsZ0JBQWdCLENBQUUscUJBQXFCLENBQUMsQ0FBQ2hCLFlBQUEsR0FBQUcsQ0FBQSxNQUV6RCxNQUFPLENBQUFLLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FDeEJDLE9BQU8sQ0FBRSwrQkFBK0IsQ0FDeENFLGlCQUFpQixDQUFFUixnQkFBZ0IsQ0FBQ0MsTUFDeEMsQ0FBQyxDQUFDLENBQ04sQ0FBRSxNQUFPUSxLQUFLLENBQUUsQ0FBQXpCLFlBQUEsR0FBQUcsQ0FBQSxNQUNaUyxPQUFPLENBQUNhLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBRUEsS0FBSyxDQUFDLENBQUN6QixZQUFBLEdBQUFHLENBQUEsT0FDNUQsTUFBTyxDQUFBSyxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQ3hCQyxPQUFPLENBQUUsc0NBQXNDLENBQy9DRyxLQUFLLENBQUVBLEtBQUssQ0FBQ0gsT0FDakIsQ0FBQyxDQUFDLENBQ04sQ0FDSixDQUFDdEIsWUFBQSxHQUFBRyxDQUFBLE9BRUR1QixNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUFFckIsYUFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119